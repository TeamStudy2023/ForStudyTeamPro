3.2 메모리

CPU는 그저 '메모리'에 올라와 있는 프로그램의 명령어들을 실행할 뿐이다.

3.2.1 메모리 계층

메모리 계층은 레지스터, 캐시, 메모리, 저장장치로 구성되어 있다.

레지스터 : CPU안에 있는 작은 메모리로 휘발성이 있는 메모리, 속도가 가장 빠르며 기억 용량이 가장 적다.

캐시 : L1, L2캐시를 지칭하며 휘발성이 있고 속도가 빠르며 기억 용량이 적다. 

주기억장치 : RAM, 휘발성이 있고 속도는 보통이며, 기억 용량이 보통이다.

보조기억장치 : HDD, SDD, 휘발성이 있고 속도가 낮으며 기억 용량이 많다.

램은 하드디스크로부터 일정량의 데이터를 복사해서 임시 저장하고 이를 필요 시마다 CPU에 빠르게 전달하는 역할을 한다.

계층 위로 올라갈수록 가격은 비싸지는데 용량은 작아지고 속도는 빨라진다.

계층이 존재하는 이유는 경제성과 캐시 때문이다. 같은 16GB라고 했을 때 RAM보다 SSD를 훨씬 싼 가격에 구매할 수 있다. 이러한 경제성 때문에 계층을 두어 관리하게 된다.

흔히들 볼 수 있는 '로딩 중' 메시지는 하드디스크 또는 인터넷에서 데이터를 읽어 RAM으로 전송하는 과정이 아직 끝나지 않았음을 의미한다.

캐시

캐시는 데이터를 미리 복사해 놓는 임시 저장소이자 빠른 장치와 느린 장치에서 속도 차이에 따른 병목 현상을 줄이기 위한 메모리를 말한다.

캐시를 통해 데이터를 접근하는 시간이 오래 걸리는 경우를 해결하고 무언가를 다시 계산하는 시간을 절약할 수 있다.

실제로 메모리와 CPU사이의 속도 차이가 너무 크기 때문에 그 중간에 레지스터 계층을 둬서 속도 차이를 해결한다. 

메모리와 CPU사이의 속도 차이가 너무 크기 때문에 그 중간에 레지스터 계층을 둬서 속도 차이를 해결한다.

캐시 메모리와 보조기억장치 사이에 있는 주기억장치를 보조기억장치의 캐싱 계층이라고 할 수 있다.


지역성의 원리 

캐시 계층을 두는 것 말고 캐시를 직접 설정할 때 기준이 되는 방법 : 자주 사용하는 데이터를 기반으로 설정, '자주'의 기준을 시간 지역성과 공간 지역성으로 둘 수 있다.

시간 지역성 : 최근 사용한 데이터에 다시 접근하려는 특성

공간 지역성 : 최근 접근한 데이터를 이루고 있는 공간이나 가까운 공간에 접근하는 특성

캐시히트와 캐시미스

캐시히트 : 캐시에서 원하는 데이터를 찾은 경우

캐시미스 : 캐시에 원하는 데이터가 없어서 주 메모리에서 데이터를 찾아오는 행위


